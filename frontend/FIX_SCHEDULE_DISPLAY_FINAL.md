# ุงูุญู ุงูููุงุฆู ููุดููุฉ ุนุฏู ุนุฑุถ ุงููุญุงุถุฑุงุช

## ๐ง ุงูุชุญุณููุงุช ุงููุถุงูุฉ

### 1. ูุนุงูุฌุฉ department_id ุจุดูู ุตุญูุญ

ุชู ุชุญุณูู ูุนุงูุฌุฉ `department_id` ูุฏุนู ุฌููุน ุงูุญุงูุงุช:
- โ ObjectId populated (object ูุน _id)
- โ ObjectId ูุจุงุดุฑ
- โ String (ูุชู ุชุญูููู ุฅูู ObjectId)

### 2. ุงูุจุญุซ ุงููุญุณูู

- โ ุงูุจุญุซ ุนู ุฌููุน ุงูุฌุฏุงูู ุงููุชุงุญุฉ ุฃููุงู
- โ ุนุฑุถ ูุนูููุงุช ููุตูุฉ ูู console
- โ ุงูุจุญุซ ุญุณุจ ุงููุตู ุงูุฏุฑุงุณู ุฃููุงู
- โ Fallback ุฅูู ุฃู ุฌุฏูู ูุดุท

### 3. Route ููุชุดุฎูุต

ุชู ุฅุถุงูุฉ route ุฌุฏูุฏ `/api/debug-schedule` ููุชุญูู ูู:
- ุจูุงูุงุช ุงูุทุงูุจ
- ุฌููุน ุงูุฃูุณุงู ุงููุชุงุญุฉ
- ุฌููุน ุงูุฌุฏุงูู ุงููุชุงุญุฉ
- ุฌุฏุงูู ุงูุทุงูุจ ุงููุญุฏุฏุฉ

## ๐ ููููุฉ ุงูุชุดุฎูุต

### ุงูุฎุทูุฉ 1: ุงูุชุญูู ูู ุจูุงูุงุช ุงูุทุงูุจ

ุงูุชุญ ูู ุงููุชุตูุญ ุฃู Postman:
```
GET http://localhost:5000/api/debug-schedule/debug
Authorization: Bearer <token>
```

ุณุชุญุตู ุนูู:
- ุจูุงูุงุช ุงูุทุงูุจ (department_id, year_level)
- ุฌููุน ุงูุฃูุณุงู ุงููุชุงุญุฉ
- ุฌููุน ุงูุฌุฏุงูู ุงููุชุงุญุฉ
- ุฌุฏุงูู ุงูุทุงูุจ ุงููุญุฏุฏุฉ

### ุงูุฎุทูุฉ 2: ุฑุงุฌุน console ูู ุงูุณูุฑูุฑ

ุงุจุญุซ ุนู ุงูุฑุณุงุฆู:
- `Student schedule request:` - ูุนูููุงุช ุงูุทุงูุจ
- `Searching for schedule:` - ูุนุงููุฑ ุงูุจุญุซ
- `All available schedules for student:` - ุฌููุน ุงูุฌุฏุงูู ุงููุชุงุญุฉ
- `Schedule found with lectures:` - ุงูุฌุฏูู ุงูููุฌูุฏ

### ุงูุฎุทูุฉ 3: ุฑุงุฌุน console ูู ุงูุชุทุจูู

ุงุจุญุซ ุนู ุงูุฑุณุงุฆู:
- `Schedule response:` - ุงูุงุณุชุฌุงุจุฉ ุงููุงููุฉ
- `Week schedule days:` - ุฃูุงู ุงูุฃุณุจูุน ุงููุชููุฑุฉ
- `Day schedule found:` - ุงููุญุงุถุฑุงุช ุงูููุฌูุฏุฉ

## ๐ฏ ุงูุฃุณุจุงุจ ุงููุญุชููุฉ ูุงูุญููู

### 1. ุงูุทุงูุจ ุบูุฑ ูุฑุชุจุท ุจุงููุณู

**ุงูุชุญูู:**
- ุงุณุชุฎุฏู `/api/debug-schedule/debug`
- ุชุญูู ูู `student.department_id`

**ุงูุญู:**
- ุงุฐูุจ ุฅูู Admin Panel
- ุงูุชุญ ุตูุญุฉ ุงูุทูุงุจ
- ุญุฏูุซ ูุณู ุงูุทุงูุจ

### 2. department_id ูุง ูุทุงุจู

**ุงูุชุญูู:**
- ุฑุงุฌุน console ูู ุงูุณูุฑูุฑ
- ูุงุฑู `student_department_id` ูุน `schedule.department_id`

**ุงูุญู:**
- ุชุฃูุฏ ูู ุฃู ุงูุทุงูุจ ูุฑุชุจุท ุจููุณ ุงููุณู ุงูููุฌูุฏ ูู ุงูุฌุฏูู
- ููููู ุงุณุชุฎุฏุงู `/api/debug-schedule/debug` ููุชุญูู

### 3. year_level ูุง ูุทุงุจู

**ุงูุชุญูู:**
- ุฑุงุฌุน console ูู ุงูุณูุฑูุฑ
- ูุงุฑู `student_year_level` ูุน `schedule.year_level`

**ุงูุญู:**
- ุชุฃูุฏ ูู ุฃู ุงูุทุงูุจ ูู ููุณ ุงููุฑุญูุฉ ุงูุฏุฑุงุณูุฉ ุงูููุฌูุฏ ูู ุงูุฌุฏูู
- ููููู ุชุญุฏูุซ ุงููุฑุญูุฉ ูู Admin Panel

### 4. ุงูุฌุฏูู ููุฌูุฏ ููู ูุง ุชุธูุฑ ุงููุญุงุถุฑุงุช

**ุงูุชุญูู:**
- ุฑุงุฌุน console ูู ุงูุณูุฑูุฑ
- ุชุญูู ูู `week_schedule_days` ู `total_lectures`

**ุงูุญู:**
- ุชุฃูุฏ ูู ุฃู ุงูุฌุฏูู ูุญุชูู ุนูู `week_schedule` ูุน ูุญุงุถุฑุงุช
- ุฑุงุฌุน Admin Panel ููุชุญูู ูู ุงูุฌุฏูู

## ๐ ูุซุงู ุนูู ุงูุงุณุชุฌุงุจุฉ ูู /api/debug-schedule/debug

```json
{
  "success": true,
  "student": {
    "id": "...",
    "name": "ุงุณู ุงูุทุงูุจ",
    "department_id": "...",
    "department_name": "ููุฏุณุฉ ุชูููุงุช ุงูุญุงุณูุจ",
    "year_level": 1
  },
  "all_departments": [
    {
      "id": "...",
      "name": "ููุฏุณุฉ ุชูููุงุช ุงูุญุงุณูุจ",
      "code": "CS"
    }
  ],
  "student_schedules": [
    {
      "id": "...",
      "department_id": "...",
      "department_name": "ููุฏุณุฉ ุชูููุงุช ุงูุญุงุณูุจ",
      "year_level": 1,
      "academic_year": "2025-2026",
      "semester": "ุงููุตู ุงูุฃูู",
      "week_schedule_days": 6,
      "total_lectures": 12
    }
  ]
}
```

## โ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. **ุงูุชุญ route ุงูุชุดุฎูุต:**
   ```
   GET /api/debug-schedule/debug
   ```

2. **ุฑุงุฌุน ุงูุจูุงูุงุช:**
   - ุชุญูู ูู `student.department_id`
   - ุชุญูู ูู `student.year_level`
   - ุชุญูู ูู `student_schedules`

3. **ุฅุฐุง ูุงู department_id ุฃู year_level ูุง ูุทุงุจู:**
   - ุงุฐูุจ ุฅูู Admin Panel
   - ุญุฏูุซ ุจูุงูุงุช ุงูุทุงูุจ

4. **ุฅุฐุง ูุงู ูู ุดูุก ุตุญูุญ ููู ูุง ุชุธูุฑ ุงููุญุงุถุฑุงุช:**
   - ุฑุงุฌุน console ูู ุงูุณูุฑูุฑ
   - ุฑุงุฌุน console ูู ุงูุชุทุจูู
   - ุฃุฑุณู ูู ุงูุฑุณุงุฆู ุงูุชู ุชุธูุฑ

## ๐ ุงุฎุชุจุงุฑ ุงูุญู

1. ุงูุชุญ `/api/debug-schedule/debug` ููุชุญูู ูู ุงูุจูุงูุงุช
2. ุชุฃูุฏ ูู ุฃู ุงูุทุงูุจ ูุฑุชุจุท ุจูุณู "ููุฏุณุฉ ุชูููุงุช ุงูุญุงุณูุจ"
3. ุชุฃูุฏ ูู ุฃู ุงูุทุงูุจ ูู `year_level` ูุญุฏุฏ (1-5)
4. ุงูุชุญ ุตูุญุฉ ุงูุฌุฏูู ูู ุงูุชุทุจูู
5. ุฑุงุฌุน console ููุชุญูู ูู ุงูุจูุงูุงุช






